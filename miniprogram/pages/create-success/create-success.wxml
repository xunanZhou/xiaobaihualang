<!--pages/create-success/create-success.wxml-->
<view class="success-container">
  <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
  <view class="custom-navbar">
    <view class="navbar-content">
      <view class="navbar-back" bindtap="onBackTap">
        <t-icon name="chevron-left" size="40rpx" color="#666666" />
      </view>
      <text class="navbar-title">å‘å¸ƒæˆåŠŸ</text>
      <view class="navbar-placeholder"></view>
    </view>
  </view>

  <!-- ä¸»å†…å®¹åŒºåŸŸ -->
  <view class="page-content">
    <!-- æˆåŠŸçŠ¶æ€ -->
    <view class="success-card card">
      <view class="success-animation">
        <view class="success-icon">
          <t-icon name="check-circle-filled" size="120rpx" color="#00a870" />
        </view>
      </view>
      <text class="success-title">å‘å¸ƒæˆåŠŸï¼</text>
      <text class="success-desc">æ‚¨çš„ä½œå“å·²æˆåŠŸå‘å¸ƒåˆ°ç”»å»Šï¼Œå¿«å»é¦–é¡µçœ‹çœ‹å¤§å®¶çš„ååº”å§ï½</text>
      
      <!-- ä½œå“é¢„è§ˆ -->
      <view class="artwork-preview">
        <t-image 
          src="{{artworkData.imageUrl}}" 
          mode="aspectFill"
          class="preview-image"
          loading="{{true}}"
          error="{{true}}"
        />
        
        <view class="artwork-info">
          <text class="artwork-title">ä½œå“ä¿¡æ¯</text>
          <view class="info-item">
            <text class="info-label">æè¿°ï¼š</text>
            <text class="info-value">{{artworkData.prompt}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">åˆ›ä½œè€…ï¼š</text>
            <text class="info-value">{{artworkData.author}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- ç»Ÿè®¡æ•°æ® -->
    <view class="stats-card card">
      <view class="card-header">
        <t-icon name="chart-bar" size="32rpx" color="#0052d9" />
        <text class="card-title">æ‚¨çš„åˆ›ä½œç»Ÿè®¡</text>
      </view>
      
      <t-grid column="{{3}}" class="stats-grid">
        <t-grid-item class="stat-item">
          <view class="stat-content">
            <text class="stat-number">{{userStats.artworks}}</text>
            <text class="stat-label">æ€»ä½œå“</text>
          </view>
        </t-grid-item>
        <t-grid-item class="stat-item">
          <view class="stat-content">
            <text class="stat-number">{{userStats.likes}}</text>
            <text class="stat-label">æ€»è·èµ</text>
          </view>
        </t-grid-item>
        <t-grid-item class="stat-item">
          <view class="stat-content">
            <text class="stat-number">{{userStats.days}}</text>
            <text class="stat-label">è¿ç»­å¤©æ•°</text>
          </view>
        </t-grid-item>
      </t-grid>
      
      <!-- æˆå°±æç¤º -->
      <view class="achievement-tip" wx:if="{{newAchievement}}">
        <view class="achievement-icon">ğŸ†</view>
        <view class="achievement-content">
          <text class="achievement-title">æ­å–œè§£é”æ–°æˆå°±ï¼</text>
          <text class="achievement-desc">{{newAchievement.name}} - {{newAchievement.desc}}</text>
        </view>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="actions-card card">
      <t-button 
        theme="primary" 
        size="large"
        class="action-btn primary-btn"
        bindtap="onBackHomeTap"
      >
        <t-icon name="home" size="32rpx" slot="icon" />
        è¿”å›é¦–é¡µ
      </t-button>
      
      <t-button 
        theme="light" 
        size="large"
        class="action-btn secondary-btn"
        bindtap="onContinueCreateTap"
      >
        <t-icon name="add" size="32rpx" slot="icon" />
        ç»§ç»­åˆ›ä½œ
      </t-button>
    </view>

    <!-- åˆ†äº«åŠŸèƒ½ -->
    <view class="share-card card">
      <view class="card-header">
        <t-icon name="share" size="32rpx" color="#7c4dff" />
        <text class="card-title">åˆ†äº«æ‚¨çš„ä½œå“</text>
      </view>
      
      <text class="share-desc">è®©æ›´å¤šæœ‹å‹çœ‹åˆ°æ‚¨çš„ç²¾å½©åˆ›ä½œ</text>
      
      <t-grid column="{{4}}" class="share-grid">
        <t-grid-item 
          wx:for="{{shareOptions}}" 
          wx:key="id"
          class="share-item"
          bindtap="onShareTap"
          data-type="{{item.type}}"
        >
          <view class="share-content">
            <view class="share-icon" style="background: {{item.bgColor}}">
              <t-icon name="{{item.icon}}" size="40rpx" color="{{item.iconColor}}" />
            </view>
            <text class="share-label">{{item.label}}</text>
          </view>
        </t-grid-item>
      </t-grid>
    </view>

    <!-- æ¨èåˆ›ä½œ -->
    <view class="inspiration-card card">
      <view class="card-header">
        <t-icon name="lightbulb" size="32rpx" color="#ff9800" />
        <text class="card-title">ç»§ç»­åˆ›ä½œçµæ„Ÿ</text>
      </view>
      
      <view class="inspiration-list">
        <view 
          class="inspiration-item" 
          wx:for="{{inspirations}}" 
          wx:key="id"
          bindtap="onInspirationTap"
          data-prompt="{{item.prompt}}"
        >
          <view class="inspiration-icon">{{item.emoji}}</view>
          <view class="inspiration-content">
            <text class="inspiration-title">{{item.title}}</text>
            <text class="inspiration-desc">{{item.desc}}</text>
          </view>
          <t-icon name="chevron-right" size="32rpx" color="#ccc" />
        </view>
      </view>
    </view>

    <!-- åº•éƒ¨é—´è· -->
    <view class="bottom-spacing"></view>
  </view>
</view>

<!-- Toast æç¤º -->
<t-toast id="t-toast" />

<!-- åˆ†äº«å¼¹çª— -->
<t-dialog
  visible="{{showShareDialog}}"
  title="åˆ†äº«ä½œå“"
  content="{{shareDialogContent}}"
  confirm-btn="ç¡®è®¤"
  cancel-btn="å–æ¶ˆ"
  bind:confirm="onConfirmShare"
  bind:cancel="onCancelShare"
/> 